from abc import ABC, abstractmethod

# Clase abstracta para productos
class Producto(ABC):
    def __init__(self, nombre, precio):
        self._nombre = nombre
        self._precio = precio

    @abstractmethod
    def mostrar_info(self):
        pass

    def get_precio(self):
        return self._precio

# Clase para camisas
class Camisa(Producto):
    def __init__(self, nombre, precio, talla):
        super().__init__(nombre, precio)
        self._talla = talla

    def mostrar_info(self):
        return f"Camisa: {self._nombre}, Precio: {self._precio}, Talla: {self._talla}"

# Clase para pantalones
class Pantalon(Producto):
    def __init__(self, nombre, precio, talla):
        super().__init__(nombre, precio)
        self._talla = talla

    def mostrar_info(self):
        return f"Pantalón: {self._nombre}, Precio: {self._precio}, Talla: {self._talla}"

# Clase para zapatos
class Zapato(Producto):
    def __init__(self, nombre, precio, talla):
        super().__init__(nombre, precio)
        self._talla = talla

    def mostrar_info(self):
        return f"Zapato: {self._nombre}, Precio: {self._precio}, Talla: {self._talla}"

# Clase para la categoría de productos
class Categoria:
    def __init__(self, nombre):
        self.nombre = nombre
        self.productos = []

    def agregar_producto(self, producto):
        self.productos.append(producto)

    def mostrar_productos(self):
        print(f"Categoría: {self.nombre}")
        for producto in self.productos:
            print(producto.mostrar_info())

# Clase para la tienda
class Tienda:
    def __init__(self):
        self.categorias = []

    def agregar_categoria(self, categoria):
        self.categorias.append(categoria)

    def mostrar_categorias(self):
        for categoria in self.categorias:
            categoria.mostrar_productos()

    def procesar_compra(self, nombre_producto):
        for categoria in self.categorias:
            for producto in categoria.productos:
                if producto._nombre == nombre_producto:
                    print(f"Compra procesada: {producto.mostrar_info()}")
                    return
        print("Producto no encontrado.")

if __name__ == "__main__":
    # Crear productos
    camisa1 = Camisa("Camisa de rayas", 25.99, "M")
    pantalon1 = Pantalon("Pantalón de mezclilla", 40.50, "L")
    zapato1 = Zapato("Zapato deportivo", 60.00, "42")

    # Crear categorías
    categoria_ropa = Categoria("Ropa")
    categoria_calzado = Categoria("Calzado")

    # Agregar productos a las categorías
    categoria_ropa.agregar_producto(camisa1)
    categoria_ropa.agregar_producto(pantalon1)
    categoria_calzado.agregar_producto(zapato1)

    # Crear tienda y agregar categorías
    tienda = Tienda()
    tienda.agregar_categoria(categoria_ropa)
    tienda.agregar_categoria(categoria_calzado)

    # Mostrar productos en la tienda
    tienda.mostrar_categorias()

    # Procesar una compra
    tienda.procesar_compra("Camisa de rayas")